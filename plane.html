<!DOCTYPE html>

<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="description" content="foundation drawing">
        <meta name="author" content="maowenchao">

        <link rel="stylesheet" href="./css/normalize.css">
        <link rel="stylesheet" href="./css/plane.css">

        <title></title>
    </head>

    <body>
        <div class="container">
            <section class="main-view">
                <div class="main-content">
                    <img class="master" draggable="false" type="image/svg+xml" alt="">
                    <div class="shape-canvas">
                        <canvas class="canvas" keepalive="true" resize="true" id="view"></canvas>
                        <div id="hit-point"></div>
                        <input class="name-box" title="请按下回车键确认输入" placeholder="输入名称" maxlength="30">
                    </div>
                </div>
            </section>
            <section class="top-bar">
                <ul>
                    <li data-id="1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M936.579887 875.606127l-39.040194 0L897.539694 383.973522c0-37.405972-30.398364-67.858572-67.830942-67.858572l-205.426878 0L624.281873 160.00841c0-37.432578-14.722321-67.858572-52.181505-67.858572L185.89399 92.149839c-37.404949 0-67.857548 30.42497-67.857548 67.858572l0 715.597716-30.588699 0c-12.514024 0-22.737886 17.120953-22.737886 29.662606 0 12.567236 10.223862 22.764492 22.737886 22.764492l505.957883 0c1.618872 0.283456 3.210115 0.435929 4.732796 0.435929 1.515518 0 3.048432-0.151449 4.57009-0.435929l259.605879 0c3.608181 2.408865 7.940864 3.815913 12.597935 3.815913 4.636605 0 8.947798-1.408071 12.538583-3.815913l49.130003 0c12.568259 0 22.710257-10.197256 22.710257-22.764492C959.290145 892.72708 949.148147 875.606127 936.579887 875.606127zM568.392926 875.606127l-392.695169 0L175.697757 168.732104c0-12.377924 10.032504-22.438057 22.409405-22.438057l347.84873 0c12.377924 0 22.437034 10.060133 22.437034 22.438057L568.392926 875.606127zM852.173415 875.606127l-227.891541 0L624.281873 372.031527l205.426878 0c12.377924 0 22.464663 10.033527 22.464663 22.410428L852.173415 875.606127zM236.330756 315.542921l275.683059 0L512.013815 259.709233l-275.683059 0L236.330756 315.542921zM236.330756 538.881769l275.683059 0 0-55.834712-275.683059 0L236.330756 538.881769zM236.330756 762.219593l275.683059 0 0-55.834712-275.683059 0L236.330756 762.219593zM683.007428 762.219593l102.944706 0 0-55.834712-102.944706 0L683.007428 762.219593zM683.007428 538.881769l102.944706 0 0-55.834712-102.944706 0L683.007428 538.881769zM683.007428 650.55017l102.944706 0 0-55.834712-102.944706 0L683.007428 650.55017z"
                                fill="#13227a"></path>
                        </svg>
                        <span>单元</span>
                    </li>
                    <li data-id="0">
                        <svg viewBox="0 0 1068 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M979.565601 595.923332V66.783383H429.055254v103.869037h-66.782493V66.783383H89.132367v401.140172h273.140394V341.348471h66.782493v341.303058h-66.782493V534.706047H89.132367v422.51057h273.140394v-103.869037h66.782493V957.216617h550.510347v-294.510792h-342.816795v-66.782493h342.816795zM22.349874 44.656117A44.388097 44.388097 0 0 1 67.005101 0.00089h934.687766a44.388097 44.388097 0 0 1 44.655226 44.655227v934.687766A44.388097 44.388097 0 0 1 1001.692867 1023.99911H67.005101a44.388097 44.388097 0 0 1-44.655227-44.655227V44.656117z"
                                fill="#13227a"></path>
                        </svg>
                        <span>户型</span>
                    </li>
                </ul>
                <ul class="operation">
                    <li data-op="undo" class="undo op-btn" title="撤销上一次操作(Ctrl+Z)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M704 320 231.552 320l141.504-141.376c12.032-11.968 12.032-31.36 0-43.328-12.032-12.032-31.424-12.032-43.456 0L135.296 329.344c-12.032 11.968-12.032 31.36 0 43.392L329.6 566.784c12.032 11.968 31.424 11.968 43.456 0 12.032-12.032 12.032-31.36 0-43.392L233.408 384 704 384c106.048 0 192 85.952 192 192s-85.952 192-192 192L288 768C270.336 768 256 782.336 256 800S270.336 832 288 832L704 832c141.376 0 256-114.624 256-256S845.376 320 704 320z"></path>
                        </svg>
                    </li>
                    <li data-op="redo" class="redo op-btn" title="恢复上一次操作(Ctrl+Y)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" style="transform: rotateY(180deg)" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M704 320 231.552 320l141.504-141.376c12.032-11.968 12.032-31.36 0-43.328-12.032-12.032-31.424-12.032-43.456 0L135.296 329.344c-12.032 11.968-12.032 31.36 0 43.392L329.6 566.784c12.032 11.968 31.424 11.968 43.456 0 12.032-12.032 12.032-31.36 0-43.392L233.408 384 704 384c106.048 0 192 85.952 192 192s-85.952 192-192 192L288 768C270.336 768 256 782.336 256 800S270.336 832 288 832L704 832c141.376 0 256-114.624 256-256S845.376 320 704 320z"></path>
                        </svg>
                    </li>
                    <li data-op="move" class="move-mode toggle op-btn" title="移动画板(空格 + 鼠标拖拽画板)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M501.992577 952.023712c6.004761 2.50403 12.828167 2.50403 18.876929 0 2.968611-1.24127 5.649674-3.013637 7.886621-5.250584a0.216941 0.216941 0 0 0 0.066515-0.022513l137.542586-137.542586c9.614985-9.614985 9.614985-25.212218 0-34.805714-9.593496-9.593496-25.169239-9.593496-34.762734 0.02149l-95.578846 95.557356 0.022513-290.238291c0-13.58132-11.011798-24.593118-24.593118-24.593118-13.580297 0-24.593118 10.989285-24.593118 24.570606v290.260803l-95.557356-95.557356c-9.614985-9.592472-25.190729-9.592472-34.740222 0-9.614985 9.614985-9.637498 25.191752-0.044002 34.784224l137.564075 137.542586c0.710175 0.710175 1.64036 1.019213 2.437515 1.617847 1.684362 1.373277 3.390213 2.791579 5.472642 3.65525z m18.877953-882.45731a24.600281 24.600281 0 0 0-18.854417 0 24.375154 24.375154 0 0 0-7.910157 5.229095c-0.021489 0-0.065492 0.042979-0.065491 0.042979l-137.542587 137.520073c-9.614985 9.614985-9.614985 25.213241 0 34.806737 9.593496 9.592472 25.169239 9.592472 34.762735-0.022513l95.578846-95.557356-0.022513 290.238291c0 13.58132 11.011798 24.593118 24.593118 24.593117 13.58132 0 24.615631-10.988262 24.615631-24.570605V151.585417l95.557356 95.557356c9.614985 9.593496 25.190729 9.593496 34.739199 0 9.616008-9.614985 9.660011-25.190729 0.045025-34.784224L528.801153 74.838476c-0.709151-0.730641-1.64036-1.040702-2.437516-1.639337-1.705851-1.350764-3.411703-2.769067-5.493107-3.632737zM952.66072 520.233522c2.50403-6.004761 2.50403-12.828167 0-18.87693a24.044626 24.044626 0 0 0-5.229095-7.886621c0-0.022513-0.042979-0.066515-0.042979-0.066515L809.868573 355.86087c-9.614985-9.614985-25.234731-9.614985-34.828226 0-9.572006 9.593496-9.572006 25.169239 0.044002 34.762735l95.534843 95.578846-290.23829-0.022513c-13.58132 0-24.570605 11.011798-24.570605 24.593118 0 13.580297 10.988262 24.593118 24.570605 24.593118h290.23829l-95.534843 95.557356c-9.614985 9.614985-9.614985 25.190729 0 34.740222 9.614985 9.614985 25.190729 9.637498 34.784224 0.044002l137.521097-137.564075c0.730641-0.710175 1.040702-1.64036 1.639336-2.437516 1.349741-1.684362 2.768043-3.390213 3.631714-5.472641zM70.202387 501.356592a24.600281 24.600281 0 0 0 0 18.854417 23.914666 23.914666 0 0 0 5.229094 7.910157l0.042979 0.042979L212.994534 665.72822c9.614985 9.616008 25.234731 9.616008 34.828226 0 9.572006-9.614985 9.572006-25.189705-0.044002-34.783201l-95.534843-95.579869 290.23829 0.045026c13.58132 0 24.570605-11.034311 24.570605-24.593118 0-13.58132-10.988262-24.615631-24.570605-24.615631l-290.23829 0.022513 95.534843-95.557356c9.614985-9.614985 9.614985-25.190729 0-34.740222-9.614985-9.614985-25.190729-9.660011-34.784224-0.044002L75.47446 493.447459c-0.730641 0.710175-1.040702 1.64036-1.639336 2.437515-1.350764 1.683339-2.769067 3.38919-3.632737 5.471618z"></path>
                        </svg>
                    </li>
                    <li data-op="copy" class="copy-mode toggle op-btn" title="复制模式(Ctrl + 鼠标拖拽形状)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M912.64 67.584H278.592a44.416 44.416 0 0 0-44.544 44.608v634.112c0 24.768 19.84 44.608 44.544 44.608h634.176c24.768 0 44.544-19.84 44.544-44.608V112.192c1.024-24.768-19.84-44.608-44.544-44.608zM274.432 751.36V107.776h644.608v643.52H274.368z m499.52 76.288h-9.856c13.888 0 25.792 10.88 23.808 24.768v59.392c0 24.832-19.84 44.608-44.608 44.608H109.12a44.416 44.416 0 0 1-44.608-44.608V277.632c0-24.768 19.84-44.544 44.608-44.544h67.392c13.824 0 20.16 4.8 20.16 18.624 0 13.888-6.336 23.488-20.16 23.488H102.4v640h649.216v-62.848c0-13.888 8.384-24.768 22.272-24.768z"></path>
                            <path d="M568.32 384h-128v44.8h128v128h44.8v-128h128V384h-128V256h-44.8v128z"></path>
                        </svg>
                    </li>
                    <li data-op="rotate" class="rotate-mode toggle op-btn" title="顺时针旋转所选形状(按下Shift键逆时针旋转)" tabindex="-1">
                        <svg viewBox="0 0 1118 1024" style="transform: rotateY(180deg)" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M165.238899 508.178506C164.450369 456.442676 171.767779 404.485842 187.244542 353.863631 266.138632 95.812692 533.436225-51.353028 784.380224 25.368251 1035.324219 102.08953 1174.62994 373.566359 1095.735851 631.617298 1016.84176 889.66824 749.544168 1036.833959 498.600172 960.11268 424.134741 937.346313 357.837833 896.870788 303.973868 842.276436 291.310328 829.441176 291.396506 808.495802 304.166356 795.493625 316.936205 782.491452 337.554042 782.356136 350.217582 795.191397 396.640587 842.243889 453.73137 877.098901 517.975091 896.740177 734.436966 962.919213 965.320335 835.802028 1033.557737 612.607541 1101.795139 389.413057 981.467179 154.919792 765.005305 88.740755 548.543428 22.561718 317.660056 149.678904 249.422655 372.873388 235.597198 418.094418 229.294871 464.461039 230.4403 510.559881L311.240978 429.759202C323.584094 417.416085 343.892513 417.712357 356.601099 430.420946 369.309686 443.129535 369.605959 463.437952 357.262842 475.781068L230.778782 602.265128C229.273826 605.769679 227.098877 609.041396 224.251145 611.889128 211.908029 624.232245 191.59961 623.935974 178.891024 611.227385L40.825428 473.16179C28.11684 460.453206 27.820569 440.144784 40.163685 427.801668 52.506801 415.458551 72.815218 415.754827 85.523806 428.463411L165.238899 508.178506Z"></path>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" class="more" data-context-menu=".rotate-context-menu" version="1.1" viewBox="0 0 100 100">
                            <path d="M 100 0 L 100 100 L 0 100 Z"></path>
                        </svg>
                    </li>
                    <li data-op="delete" class="delete-shape op-btn" title="删除所选形状(Delete)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M337.984 793.024c-16.064 0-28.992-12.608-28.992-28.096L308.992 455.808c0-15.552 12.992-28.096 28.992-28.096 16.064 0 28.992 12.608 28.992 28.096l0 309.056C366.976 780.416 353.984 793.024 337.984 793.024L337.984 793.024zM512 793.024c-16.064 0-28.992-12.608-28.992-28.096L483.008 455.808c0-15.552 12.992-28.096 28.992-28.096 16.064 0 28.992 12.608 28.992 28.096l0 309.056C540.992 780.416 528.064 793.024 512 793.024L512 793.024zM686.016 793.024c-16.064 0-28.992-12.608-28.992-28.096L657.024 455.808c0-15.552 12.992-28.096 28.992-28.096 16.064 0 28.992 12.608 28.992 28.096l0 309.056C715.072 780.416 702.08 793.024 686.016 793.024L686.016 793.024zM918.08 287.168l0 28.096-58.048 0 0 533.952c0 61.952-52.032 112.384-116.032 112.384L279.936 961.6c-64 0-116.032-50.432-116.032-112.384L163.904 315.264 105.92 315.264 105.92 287.168 76.864 287.168 76.864 259.072c0-61.952 52.032-112.384 116.032-112.384l120.128 0C326.016 98.304 371.072 62.4 424.96 62.4L599.04 62.4c53.888 0 98.944 35.904 111.936 84.288l120.128 0c64 0 116.032 50.432 116.032 112.384l0 28.096L918.08 287.168 918.08 287.168zM279.936 905.408l464.128 0c32 0 57.984-25.216 57.984-56.192L802.048 315.264 221.952 315.264l-4.032 533.952C217.92 880.192 248 905.408 279.936 905.408L279.936 905.408zM599.04 118.592 424.96 118.592c-21.376 0-39.872 11.392-49.92 28.096l273.92 0C638.912 129.984 620.416 118.592 599.04 118.592L599.04 118.592zM831.104 202.88 192.896 202.88c-32 0-57.984 25.216-57.984 56.192l69.12 0 145.024 0 325.888 0 145.024 0 69.12 0C889.088 228.096 863.04 202.88 831.104 202.88L831.104 202.88z"></path>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" class="more" data-context-menu=".delete-context-menu" version="1.1" viewBox="0 0 100 100">
                            <path d="M 100 0 L 100 100 L 0 100 Z"></path>
                        </svg>
                    </li>
                    <li data-op="edit" class="edit-text op-btn" title="编辑文本(双击)" tabindex="-1">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M888.32 51.2l10.24 216.064h-25.6c-5.12-37.888-11.776-65.024-20.48-81.408-13.824-26.112-32.768-45.568-56.32-57.856-23.552-12.288-54.272-18.944-92.16-18.944h-130.048v704c0 56.832 6.144 92.16 18.432 105.984 17.408 18.944 43.52 28.672 79.36 28.672h31.744v25.088h-390.656v-25.088h32.768c38.912 0 66.56-11.776 82.944-35.328 9.728-14.336 14.848-47.616 14.848-99.328V109.056H332.8c-43.008 0-73.728 3.072-91.648 9.728-23.552 8.704-43.52 25.088-60.416 49.664-16.896 24.576-26.624 57.344-29.696 99.328h-25.6l10.752-216.064h752.128z"></path>
                        </svg>
                    </li>
                    <li data-op="save" class="save" tabindex="-1" title="保存绘制图形">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M288 608h448c17.7 0 32-14.3 32-32s-14.3-32-32-32H288c-17.7 0-32 14.3-32 32s14.3 32 32 32z m449 96H289c-17.7 0-32 14.3-32 32s14.3 32 32 32h448c17.7 0 32-14.3 32-32s-14.3-32-32-32zM896 64H128c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h768c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64z m-568 72h368v240H328V136z m560 752H136V136h120v248c0 35.4 28.7 64 64 64h384c35.4 0 64-28.7 64-64V136h120v752z"
                                fill="#13227a"></path>
                        </svg>
                        <span>保存</span>
                    </li>
                </ul>
            </section>
            <section class="context-menu-box">
                <ul class="context-menu-item delete-context-menu" data-right="155" data-width="150" tabindex="-1">
                    <li class="clear-house no-menu-icon">清除所有户型</li>
                    <li class="clear-unit no-menu-icon">清除所有单元</li>
                    <li class="menu-line"></li>
                    <li class="clear-all">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M224.9 67.1v119.8H79.1v770h720V837.1H945v-770H224.9z m524.2 839.8h-620v-670h620v670z m145.8-119.8H799V186.9H274.9v-69.8h620v670zM439 607.4l-106.1 106-35.4-35.4 106.1-106-106-106.1 35.4-35.4 106 106.1 106.1-106.1 35.4 35.4L474.4 572l106.1 106.1-35.4 35.4L439 607.4z"></path>
                        </svg>
                        <span>清除全部</span>
                    </li>
                </ul>
                <ul class="context-menu-item rotate-context-menu" data-right="210" data-width="130" tabindex="-1">
                    <li class="rotate-90 no-menu-icon">顺时针90°</li>
                    <li class="rotate-counter-90 no-menu-icon">逆时针90°</li>
                    <li class="menu-line"></li>
                    <li class="rotate-hor">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M252.76928 299.904l146.2784 0 0 472.42752-146.2784 0 0-472.42752Z"></path>
                            <path d="M477.48096 85.34528l70.87104 0 0 885.80608-70.87104 0 0-885.80608Z"></path>
                            <path d="M629.80096 284.8l31.0016 0 0 502.88128-31.0016 0L629.80096 284.8zM776.42752 284.8l31.0016 0 0 502.88128-31.0016 0L776.42752 284.8zM657.09056 315.8016l0-31.0016 123.04896 0 0 31.0016L657.09056 315.8016zM657.27488 787.64544l0-31.0016 123.04896 0 0 31.0016L657.27488 787.64544z"></path>
                        </svg>
                        <span>水平翻转</span>
                    </li>
                    <li class="rotate-ver">
                        <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M286.01856 250.91584l472.4224 0 0 146.2784-472.4224 0 0-146.2784Z"></path>
                            <path d="M87.19872 475.62752l885.80096 0 0 70.87104-885.80096 0 0-70.87104Z"></path>
                            <path d="M773.55008 627.94752l0 31.0016L270.6688 658.94912l0-31.0016L773.55008 627.94752zM773.55008 774.5792l0 31.0016L270.6688 805.5808l0-31.0016L773.55008 774.5792zM742.54848 655.24224l31.0016 0 0 123.04896-31.0016 0L742.54848 655.24224zM270.70464 655.42144l31.0016 0 0 123.04896-31.0016 0L270.70464 655.42144z"></path>
                        </svg>
                        <span>垂直翻转</span>
                    </li>
                </ul>
            </section>
        </div>

        <script src="./scripts/paper.js"></script>
        <script src="./scripts/plane.js"></script>
    </body>

</html>